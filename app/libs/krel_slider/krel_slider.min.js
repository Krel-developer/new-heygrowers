!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}({6:function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e),i.d(e,"krelSlider",(function(){return v}));var l={slidesToShow:1,slidesToScroll:1,timeToScroll:350,infinity:!1,autoplay:!1,autoplaySpeed:3e3,responsive:null};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=p(t);if(e){var r=p(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return d(this,i)}}function d(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,i,n,r=c(s);function s(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(i=r.call(this,t,e)).elementOfcontrols=[],i.childrensRenderArr=null,i.current={},i.currentSlide=[],i.dots=null,i.$draggable,i.draggable={},i.$krelTrack,i}return e=s,(i=[{key:"init",value:function(){this.render(),this.initStepInsruction(),this.setCurrentSlide(),this.renderButtons(),this.renderDots(),this.options.autoplay&&this.autoSlideInit(),window.addEventListener("resize",this.resizeWindow.bind(this)),this.initEventListeners()}},{key:"render",value:function(){var t=this;this.$parent.classList.add("krel-slider"),this.$draggable=this.createElement("krel-draggable"),this.$krelTrack=this.createElement("krel-track"),this.childrens.length,this.options.slidesToShow;var e=[],i=[];this.childrens.forEach((function(n,r){var s=t.createElement("krel-slide");if(s.style.width="".concat(t.slideWidth,"px"),s.append(n),s.dataset.id=r,e.push(s),t.options.infinity){var o=s.cloneNode(!0);o.classList.add("krel-cloned"),i.push(o)}})),this.childrensRenderArr=e;var n=[].concat([],e,i);this.allSlides=n,n.forEach((function(e){t.$krelTrack.append(e)})),this.options.infinity&&this.renderChildrensPrevArr(),this.setKrelTrackWidth(),this.krelTrackTranslate(this.translateValue),this.$draggable.append(this.$krelTrack),this.$parent.append(this.$draggable),this.stopAutoplay(this.$draggable)}},{key:"renderChildrensPrevArr",value:function(){var t,e=null;if(this.childrensPrevArr){if(this.childrensPrevArr.length<this.options.slidesToShow)e=!0,t=this.childrensPrevArr.length;else if(this.childrensPrevArr.length>this.options.slidesToShow)for(var i=this.childrensPrevArr.length-this.options.slidesToShow,n=0;n<i;n++)this.childrensPrevArr[this.childrensPrevArr.length-1].remove(),this.childrensPrevArr.pop()}else e=!0,this.childrensPrevArr=[],t=0;if(e)for(var r=t;r<this.options.slidesToShow;r++){var s=this.childrensRenderArr[this.childrens.length-r-1].cloneNode(!0);s.classList.add("krel-cloned"),s.dataset.id=-(r+1),this.$krelTrack.prepend(s),this.childrensPrevArr.push(s)}}},{key:"renderButtons",value:function(){var t=this.createElement("krel-arrows krel-prev"),e=this.createElement("krel-arrows krel-next");this.stopAutoplay(t),this.stopAutoplay(e),t.addEventListener("click",this.prevSlide.bind(this)),e.addEventListener("click",this.nextSlide.bind(this)),this.$parent.prepend(t),this.$parent.append(e),this.elementOfcontrols.push(t,e)}},{key:"renderDots",value:function(){var t,e=this;this.dots?(t=this.dots.node,this.dots.list.forEach((function(t){return t.remove()}))):(t=this.createElement("krel-dots"),this.dots={},this.dots.node=t);var i=Math.ceil(this.childrensRenderArr.length/this.options.slidesToScroll);i=Math.ceil(i),this.dots.list=[];for(var n=function(i){var n=e.createElement("krel-dote");e.dots.list.push(n),n.dataset.id=i+1,0===i&&n.classList.add("krel-dots-active"),n.onclick=function(t){var i=+n.dataset.id;e.stepInsruction.number=i,e.moveTo(i)},t.append(n)},r=0;r<i;r++)n(r);this.current.dot=0,this.$parent.append(t)}},{key:"reload",value:function(){var t=this;this.initOptions(),this.options.infinity&&(this.renderChildrensPrevArr(),this.childrensPrevArr.forEach((function(e){return e.style.width=t.slideWidth+"px"}))),this.allSlides.forEach((function(e){return e.style.width=t.slideWidth+"px"})),this.setKrelTrackWidth(),this.initStepInsruction(),this.renderDots(),this.moveTo(this.stepInsruction.number,0)}},{key:"setKrelTrackWidth",value:function(){var t=this.options.infinity?2*this.childrens.length+this.options.slidesToShow:this.childrens.length;this.$krelTrack.style.width="".concat(this.slideWidth*t,"px")}},{key:"createElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=document.createElement(e);return i.className=t,i}},{key:"krelTrackTranslate",value:function(t){this.$krelTrack.style.transform="translate(".concat(t,"px)")}},{key:"initEventListeners",value:function(){this.onDraggebleStart=this.onDraggebleStart.bind(this),this.onDraggebleMove=this.onDraggebleMove.bind(this),this.onDraggebleEnd=this.onDraggebleEnd.bind(this),this.$draggable.addEventListener("mousedown",this.onDraggebleStart),this.$draggable.addEventListener("touchstart",this.onDraggebleStart)}},{key:"stopAutoplay",value:function(t){var e=this;t.onmouseover=function(){e.autoSlide&&(e.autoSlideStop(),t.onmouseout=function(){e.autoSlideInit(),t.onmouseout=null})}}},{key:"resizeWindow",value:function(t){var e=this;this.$parent.offsetWidth!==this.parentWidth&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.reload()}),100))}},{key:"autoSlideInit",value:function(){var t=this;this.autoSlide=setInterval((function(){t.nextSlide()}),this.options.autoplaySpeed)}},{key:"autoSlideStop",value:function(){clearInterval(this.autoSlide),this.autoSlide=null}},{key:"onDraggebleStart",value:function(t){t.preventDefault(),this.draggable.start=this.clientX(t),this.$draggable.addEventListener("mousemove",this.onDraggebleMove),this.$draggable.addEventListener("touchmove",this.onDraggebleMove),this.$draggable.addEventListener("mouseup",this.onDraggebleEnd),this.$draggable.addEventListener("touchend",this.onDraggebleEnd),this.$draggable.addEventListener("mouseout",this.onDraggebleEnd),this.$draggable.addEventListener("touchcancel",this.onDraggebleEnd)}},{key:"onDraggebleMove",value:function(t){this.draggable.delta=+this.draggable.start-this.clientX(t),this.krelTrackTranslate(this.translateValue-this.draggable.delta),t.preventDefault()}},{key:"onDraggebleEnd",value:function(t){t.preventDefault(),this.$draggable.removeEventListener("mousemove",this.onDraggebleMove),this.$draggable.removeEventListener("touchmove",this.onDraggebleMove),this.$draggable.removeEventListener("mouseup",this.onDraggebleEnd),this.$draggable.removeEventListener("touchend",this.onDraggebleEnd),this.$draggable.removeEventListener("mouseout",this.onDraggebleEnd),this.$draggable.removeEventListener("touchcancel",this.onDraggebleEnd),Math.abs(this.draggable.delta)>this.slideWidth/5?this.draggable.delta>0?this.nextSlide():this.prevSlide():this.moveTo(this.stepInsruction.number)}},{key:"clientX",value:function(t){return t.targetTouches&&t.targetTouches.length>=.8?t.targetTouches[0].clientX:t.clientX}},{key:"nextSlide",value:function(){this.moveSlide("next")}},{key:"prevSlide",value:function(){this.moveSlide("prev")}},{key:"setCurrentSlide",value:function(){var t=this;this.current.slide&&(this.allSlides[this.current.slide[0]].classList.remove("current-slide"),this.current.slide.forEach((function(e){t.allSlides[e].classList.remove("active-slide")}))),this.current.slide=this.stepInsruction.map[this.stepInsruction.number],this.allSlides[this.current.slide[0]].classList.add("current-slide"),this.current.slide.forEach((function(e){t.allSlides[e].classList.add("active-slide")}))}},{key:"setCurrentDots",value:function(t){this.dots.list[this.current.dot].classList.remove("krel-dots-active"),this.dots.list[t-1].classList.add("krel-dots-active"),this.current.dot=t-1}},{key:"fantomMove",value:function(t){var e,i=this,n=this.options.timeToScroll/2;"next"===t?e=this.translateValue-40:"prev"===t&&(e=this.translateValue+40),this.$krelTrack.style.transition="transform ".concat(n,"ms ease 0s"),this.krelTrackTranslate(e),setTimeout((function(){i.krelTrackTranslate(i.translateValue),setTimeout((function(){i.$krelTrack.style.transition=null}),n)}),n)}},{key:"initStepInsruction",value:function(){var t,e=0;this.stepInsruction&&(e=this.stepInsruction.map[this.stepInsruction.number][0]),console.log(e);for(var i=[],n=[],r=[],s=Math.ceil(this.childrensRenderArr.length/this.options.slidesToScroll),o=0;o<s;o++){var l=[],a=o*this.options.slidesToScroll;a+this.options.slidesToScroll>this.childrensRenderArr.length&&(a=this.childrensRenderArr.length-this.options.slidesToScroll);for(var h=0;h<this.options.slidesToShow;h++)l.push(h+a);i.push(l),l.includes(e)&&(t=o+1)}for(var u=i[i.length-1],c=0;c<this.options.slidesToScroll;c++)n.push(c-this.options.slidesToScroll),r.push(u[0]+this.options.slidesToScroll+c);i.unshift(n),i.push(r),this.stepInsruction={map:i,number:t}}},{key:"moveSlide",value:function(t){this.options.infinity||!(this.translateValue===this.translateValueMin&&"prev"===t||this.translateValue<=this.translateValueMax&&"next"===t)?this.isMoveSLide||(this.isMoveSLide=!0,"next"===t?(this.stepInsruction.number=this.stepInsruction.number+1,this.moveTo(this.stepInsruction.number)):"prev"===t&&(this.stepInsruction.number=this.stepInsruction.number-1,this.moveTo(this.stepInsruction.number))):this.fantomMove(t)}},{key:"moveTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.timeToScroll,n=null;this.$krelTrack.style.transition="transform ".concat(i,"ms ease 0s"),this.translateValue=this.translateValueMin-this.stepInsruction.map[t][0]*this.slideWidth,this.krelTrackTranslate(this.translateValue),this.options.infinity&&(t===this.stepInsruction.map.length-1?n=1:0===t&&(n=this.stepInsruction.map.length-2),null!==n&&(this.stepInsruction.number=n,this.translateValue=this.translateValueMin-this.stepInsruction.map[n][0]*this.slideWidth)),this.setCurrentDots(this.stepInsruction.number),setTimeout((function(){e.$krelTrack.style.transition=null,e.options.infinity&&e.krelTrackTranslate(e.translateValue),e.setCurrentSlide(),e.isMoveSLide=!1}),i)}}])&&h(e.prototype,i),n&&h(e,n),s}(function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$parent=document.querySelector(e),this.childrens=this.getChildrens(),this.userOptions=i,this.initOptions()}var e,i,n;return e=t,(i=[{key:"initOptions",value:function(){this.parentWidth=this.$parent.offsetWidth,this.options=this.getOptions(this.userOptions),this.slideWidth=this.$parent.offsetWidth/this.options.slidesToShow,this.sliderStep=this.slideWidth*this.options.slidesToScroll,this.sliderLastStep=this.childrens.length%this.options.slidesToScroll*this.slideWidth,this.initTranslateValues()}},{key:"getOptions",value:function(t){if(t.responsive){var e=window.innerWidth,i=Number.MAX_VALUE,n=null,s=t.responsive;if(Object.keys(s).forEach((function(t){t>e&&t-e<i&&(i=t-e,n=t)})),n)return r(r(r({},l),t),s[n])}return r(r({},l),t)}},{key:"getChildrens",value:function(){var t=this.$parent.children,e=[];return Object.keys(t).forEach((function(i){"length"!==i&&e.push(t[i])})),e}},{key:"initTranslateValues",value:function(){this.options.infinity?this.translateValue=-this.options.slidesToShow*this.slideWidth:this.translateValue=0,this.translateValueMin=this.translateValue,this.translateValueMax=this.translateValue-(this.childrens.length-this.options.slidesToShow)*this.slideWidth}}])&&o(e.prototype,i),n&&o(e,n),t}());function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new f(t,e);return i.init(),i}}});